<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>F1 2026 Cup</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="./assets/icon-192.png">
    <meta name="theme-color" content="#e10600">
</head>
<body>
    <!-- Pantalla de carga -->
    <div id="loading" class="loading-screen">
        <h1>F1 <span>2026</span></h1>
        <p>CARGANDO BOXES...</p>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    </div>

    <!-- Aplicaci√≥n principal -->
    <div id="app" class="app-container" style="display: none;">
        <!-- P√°gina de inicio (Landing) -->
        <div id="landing-page" class="page active">
            <div class="landing-content">
                <h1>F1 <span>2026</span></h1>
                <h3>COUPLE CUP</h3>
                <div class="landing-card">
                    <p class="sub-text">SELECCIONA PILOTO</p>
                    <div class="player-buttons">
                        <button id="btn-varo" class="player-btn varo-btn">
                            <i class="fas fa-helmet-safety"></i>
                            VARO
                        </button>
                        <button id="btn-cia" class="player-btn cia-btn">
                            <i class="fas fa-flag-checkered"></i>
                            C√çA
                        </button>
                    </div>
                    <div class="season-info">
                        <p><i class="fas fa-calendar-alt"></i> TEMPORADA 2026</p>
                        <p><i class="fas fa-trophy"></i> 24 GRANDES PREMIOS</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- P√°gina principal de la app -->
        <div id="main-page" class="page">
            <!-- Header -->
            <header class="app-header">
                <button id="btn-back" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 id="current-user">VARO</h2>
                <div class="header-actions">
                    <button id="btn-admin" class="admin-btn" style="display:none">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button id="btn-refresh" class="refresh-btn">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
            </header>

            <!-- Tabs de navegaci√≥n -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="race">
                    <i class="fas fa-flag-checkered"></i>
                    <span>CARRERA</span>
                </button>
                <button class="tab-btn" data-tab="season">
                    <i class="fas fa-trophy"></i>
                    <span>MUNDIAL</span>
                </button>
                <button class="tab-btn" data-tab="points">
                    <i class="fas fa-chart-line"></i>
                    <span>PUNTOS</span>
                </button>
                <button class="tab-btn" data-tab="lastNumber">
                    <i class="fas fa-hashtag"></i>
                    <span>√öLTIMO N¬∫</span>
                </button>
                <button class="tab-btn" data-tab="admin" style="display:none">
                    <i class="fas fa-cog"></i>
                    <span>ADMIN</span>
                </button>
            </div>

            <!-- Contenido de las tabs -->
            <div class="tab-content">
                <!-- TAB CARRERA -->
                <div id="tab-race" class="tab-pane active">
                    <!-- √öltima apuesta del usuario -->
                    <div id="last-bet-card" class="mobile-card" style="display:none">
                        <p class="sub-text">üìù TU √öLTIMA APUESTA</p>
                        <h3 id="last-bet-race"></h3>
                        <div class="last-bet-content">
                            <div class="podium-item">
                                <div class="driver-image-container">
                                    <img id="last-bet-p2-img" src="" class="driver-img" alt="2¬∫">
                                </div>
                                <span class="sub-text">2¬∫</span>
                            </div>
                            <div class="podium-item">
                                <div class="driver-image-container">
                                    <img id="last-bet-p1-img" src="" class="driver-img" alt="1¬∫">
                                </div>
                                <span class="sub-text">1¬∫</span>
                            </div>
                            <div class="podium-item">
                                <div class="driver-image-container">
                                    <img id="last-bet-p3-img" src="" class="driver-img" alt="3¬∫">
                                </div>
                                <span class="sub-text">3¬∫</span>
                            </div>
                        </div>
                    </div>

                    <!-- Informaci√≥n del pr√≥ximo GP -->
                    <div class="mobile-card">
                        <p class="sub-text">üìÖ PR√ìXIMO GP</p>
                        <select id="gp-select" class="gp-select"></select>
                        <div class="circuit-info">
                            <div class="circuit-header">
                                <img id="circuit-flag" src="" class="flag-img" alt="Bandera">
                                <div>
                                    <h4 id="circuit-name"></h4>
                                    <p id="circuit-fecha" class="circuit-date"></p>
                                </div>
                            </div>
                            <img id="circuit-map" src="" class="map-img" alt="Mapa del circuito">
                        </div>
                    </div>

                    <!-- Formulario de apuestas -->
                    <div class="mobile-card">
                        <p class="sub-text">üéØ TU APUESTA</p>
                        <div class="podium-builder">
                            <div class="podium-item">
                                <div class="driver-image-container">
                                    <img id="p1-img" src="" class="driver-img" alt="1¬∫" style="display:none">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">1er LUGAR</label>
                                    <select id="p1-select" class="form-select">
                                        <option value="">Selecciona piloto</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="podium-item">
                                <div class="driver-image-container">
                                    <img id="p2-img" src="" class="driver-img" alt="2¬∫" style="display:none">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">2do LUGAR</label>
                                    <select id="p2-select" class="form-select">
                                        <option value="">Selecciona piloto</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="podium-item">
                                <div class="driver-image-container">
                                    <img id="p3-img" src="" class="driver-img" alt="3¬∫" style="display:none">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">3er LUGAR</label>
                                    <select id="p3-select" class="form-select">
                                        <option value="">Selecciona piloto</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button id="btn-save-bet" class="btn btn-primary w-100 mt-20">
                                <i class="fas fa-save"></i> GUARDAR APUESTA
                            </button>
                        </div>
                    </div>

                    <!-- Estado de la carrera -->
                    <div class="mobile-card">
                        <p class="sub-text">üèÅ ESTADO DE LA CARRERA</p>
                        <div class="race-status">
                            <div class="status-item">
                                <i class="fas fa-clock status-icon pending"></i>
                                <div>
                                    <h4>APUESTAS ABIERTAS</h4>
                                    <p>Hasta el inicio de la carrera</p>
                                </div>
                            </div>
                            <div class="status-item">
                                <i class="fas fa-check-circle status-icon completed"></i>
                                <div>
                                    <h4>RESULTADOS</h4>
                                    <p>Disponibles despu√©s de la carrera</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB MUNDIAL -->
                <div id="tab-season" class="tab-pane">
                    <!-- Contenido cargado din√°micamente -->
                </div>

                <!-- TAB PUNTOS -->
                <div id="tab-points" class="tab-pane">
                    <!-- Contenido cargado din√°micamente -->
                </div>

                <!-- TAB √öLTIMO N√öMERO -->
                <div id="tab-lastNumber" class="tab-pane">
                    <!-- Contenido cargado din√°micamente -->
                </div>

                <!-- TAB ADMIN -->
                <div id="tab-admin" class="tab-pane">
                    <!-- Contenido cargado din√°micamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
    
    <!-- Service Worker para PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(registration => {
                    console.log('‚úÖ Service Worker registrado:', registration);
                })
                .catch(error => {
                    console.log('‚ùå Error registrando Service Worker:', error);
                });
        }
    </script>
    <!-- Panel de activaci√≥n admin visible -->
<div class="admin-panel" style="
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
    background: rgba(21, 21, 30, 0.95);
    border: 2px solid #e10600;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
">
    <p style="color: #e10600; font-weight: bold; margin-bottom: 10px; font-size: 12px;">
        <i class="fas fa-cog"></i> ACCESO ADMIN
    </p>
    <button onclick="activateAdmin()" style="
        background: #e10600;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        font-weight: bold;
        cursor: pointer;
        width: 100%;
        transition: background 0.3s;
    ">
        ACTIVAR ADMIN
    </button>
    <button onclick="deactivateAdmin()" style="
        background: #38383f;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        font-weight: bold;
        cursor: pointer;
        width: 100%;
        margin-top: 8px;
        transition: background 0.3s;
    ">
        DESACTIVAR
    </button>
</div>

<script>
    function activateAdmin() {
        localStorage.setItem('f1_admin', 'true');
        showMessage('üîß MODO ADMIN ACTIVADO', '#e10600');
        setTimeout(() => location.reload(), 1500);
    }
    
    function deactivateAdmin() {
        localStorage.removeItem('f1_admin');
        showMessage('üë§ MODO USUARIO ACTIVADO', '#2ecc71');
        setTimeout(() => location.reload(), 1500);
    }
    
    function showMessage(text, color) {
        const msg = document.createElement('div');
        msg.textContent = text;
        msg.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: ${color};
            color: white;
            padding: 20px 40px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 10000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            animation: fadeInOut 2s ease;
        `;
        
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            }
        `;
        
        document.head.appendChild(style);
        document.body.appendChild(msg);
        
        setTimeout(() => msg.remove(), 2000);
    }
    
    // Ocultar panel si ya eres admin
    if (localStorage.getItem('f1_admin') === 'true') {
        document.querySelector('.admin-panel').style.display = 'none';
    }
</script>
</body>
</html>